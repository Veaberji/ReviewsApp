<script src="~/lib/jquery/jquery.min.js" type="text/javascript"></script>
<script src="~/lib/jqueryui/jquery-ui.min.js" type="text/javascript"></script>
<link href="~/lib/jqueryui/themes/blitzer/jquery-ui.min.css" rel="Stylesheet" type="text/css" />

<script type="text/javascript">
    $(function () {
        $("#TagText").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Review/AutoCompleteTag/',
                    headers: { "RequestVerificationToken":
                        $('input[name="__RequestVerificationToken"]').val() },
                    data: { "prefix": request.term },
                    type: "POST",
                    success: function (data) {
                        response($.map(data, function (item) {
                            return item;
                        }));
                    },
                    error: function (response) {
                        console.log(response.responseText);
                    },
                    failure: function (response) {
                        console.log(response.responseText);
                    }
                });
            },
            select: function (e, i) {
                $("#TagId").val(i.item.val);
            },
            minLength: 2
        });
    });
</script>